# For Fleet Free:
# - This file updates policies, queries, agent_options, and controls for all hosts.

# For Fleet Premium:
# - This file updates policies and queries that run on all hosts ("All teams").
# - Remove "controls" and add this to your YAML files in teams/ instead.

policies:
queries:
agent_options:
  path: ./lib/agent-options.yml
controls: # This cannot be set here and in no-team.yml
org_settings:
  server_settings:
    server_url: $FLEET_URL
  org_info:
    org_name: Fleet
  secrets:
    - secret: "$FLEET_GLOBAL_ENROLL_SECRET"
  features:
    enable_host_users: true
    enable_software_inventory: true

labels:
  - name: Raj Testing
    platform: darwin,windows
    description: Hosts on the Arm64 architecture
    query: "SELECT 1 FROM system_info WHERE cpu_type LIKE 'arm64%' OR cpu_type LIKE 'aarch64%'"
    label_membership_type: dynamic
  - name: Anand Testing
    description: Hosts belonging to the C-Suite
    label_membership_type: manual
    hosts:
      - "IR7M6ZGQJM"
      - "JMFWY8VZ09"
  - name: Ashwath Testing
    description: Hosts used by engineers
    label_membership_type: dynamic
    query: "SELECT 1 FROM host_vitals WHERE end_user_idp_department = 'Engineering'"
